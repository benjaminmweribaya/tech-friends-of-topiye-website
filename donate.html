<!-- @format -->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>TECH FRIENDS OF TOPIYE</title>
		<link rel="icon" type="image/x-icon" href="tft logo.jpg" />
		<link rel="stylesheet" href="style.css" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
			crossorigin="anonymous"
		/>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
			integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
			crossorigin="anonymous"
		></script>
		<script
			src="https://kit.fontawesome.com/1332ef033c.js"
			crossorigin="anonymous"
		></script>
		<script src="https://www.paypal.com/sdk/js?client-id=&ASOD8W76FNI4AIidIxxVJiANnmchH-00uz8bcoT07OQKNk39-c2jz-FHX6CR6A-C0WP0BWDsTskdhWMScomponents=buttons,hosted-fields"></script>
	</head>
	<body>
		<header>
			<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
				<div class="container-fluid">
					<a class="navbar-brand" href="index.html">
						<img
							src="tft logo.jpg"
							alt="Logo"
							width="50"
							height="50"
							class="d-inline-block align-text-top"
						/>
						TECH FRIENDS OF TOPIYE
					</a>
					<button
						class="navbar-toggler"
						type="button"
						data-bs-toggle="collapse"
						data-bs-target="#navbarNav"
						aria-controls="navbarNav"
						aria-expanded="false"
						aria-label="Toggle navigation"
					>
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarNav">
						<ul class="navbar-nav ms-auto">
							<li class="nav-item">
								<a class="nav-link active" aria-current="page" href="index.html"
									>Home</a
								>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="about.html">About us</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="contact.html">Contact us</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="donate.html">Donate</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>

		<main class="container my-4">
			<h1 class="text-center">Donate</h1>
			<h2 class="text-center">
				Please choose a payment method and enter the amount you wish to donate.
				Thank you for your support!
			</h2>
			<form>
				<div class="mb-3">
					<label for="payment-method" class="form-label"
						>Select Payment Method:</label
					>
					<select
						class="form-select"
						id="payment-method"
						name="payment-method"
						onchange="togglePaymentMethod()"
					>
						<option value="" selected disabled>Select Payment Method</option>
						<option value="paypal">PayPal</option>
						<option value="card">Credit or Debit Card</option>
					</select>
				</div>
				<div class="mb-3" id="amount-container">
					<label for="amount" class="form-label"
						>Enter Donation Amount (USD):</label
					>
					<input
						type="number"
						class="form-control"
						id="amount"
						name="amount"
						min="1"
						step="0.01"
					/>
				</div>
				<div id="paypal-container" class="hidden">
					<div class="mb-3">
						<label for="paypal-email" class="form-label">PayPal Email:</label>
						<input
							type="email"
							class="form-control"
							id="paypal-email"
							name="paypal-email"
						/>
					</div>
					<button type="button" class="btn btn-primary" id="paypal-button">
						Donate
					</button>
					<div id="paypal-button-container"></div>
				</div>
				<div id="card-container" class="hidden">
					<div class="mb-3">
						<label for="card-name" class="form-label">Account Name:</label>
						<input
							type="text"
							class="form-control"
							id="card-name"
							name="card-name"
						/>
					</div>
					<div class="mb-3">
						<label for="card-number" class="form-label">Card Number:</label>
						<div id="card-number" class="form-control"></div>
					</div>
					<div class="mb-3">
						<label for="cvv" class="form-label">CVV:</label>
						<div id="cvv" class="form-control"></div>
					</div>
					<div class="mb-3">
						<label for="expiration-date-month" class="form-label"
							>Expiration Date:</label
						>
						<div class="d-flex">
							<select
								class="form-select me-2"
								id="expiration-date-month"
								name="expiration-date-month"
							>
								<option value="" selected disabled>Select Month</option>
								<script>
									for (let month = 1; month <= 12; month++) {
										document.write(
											`<option value="${month}">${month}</option>`
										);
									}
								</script>
							</select>
							<select
								class="form-select"
								id="expiration-date-year"
								name="expiration-date-year"
							>
								<option value="" selected disabled>Select Year</option>
								<script>
									for (let year = 2024; year <= 3024; year++) {
										document.write(`<option value="${year}">${year}</option>`);
									}
								</script>
							</select>
						</div>
					</div>
					<button type="button" class="btn btn-primary" id="card-button">
						Donate
					</button>
				</div>
			</form>
		</main>

		<footer class="bg-light text-center py-4">
			<img
				src="tft logo.jpg"
				alt="TFT Logo"
				class="mb-3"
				style="width: 100px; height: 100px"
			/>
			<p>
				Contact us:
				<br />
				<a href="mailto:info@techfriendsoftopiye.com"
					>info@techfriendsoftopiye.com</a
				>
				<br />
				<a href="tel:+254722123456">+254 722 123 456</a>
			</p>
			<p>
				Follow us:
				<br />
				<a href="https://twitter.com/techfriendsop" target="_blank">
					<i class="fab fa-x-twitter"></i>
				</a>
				<br />
				<a href="https://www.instagram.com/techfriendsop/" target="_blank">
					<i class="fab fa-instagram"></i>
				</a>
				<br />
				<a href="https://www.facebook.com/techfriendsop" target="_blank">
					<i class="fab fa-facebook"></i>
				</a>
				<br />
				<a
					href="https://www.linkedin.com/company/techfriendsop"
					target="_blank"
				>
					<i class="fab fa-linkedin"></i>
				</a>
				<br />
				<a href="https://www.youtube.com/@techfriendsop" target="_blank">
					<i class="fab fa-youtube"></i>
				</a>
			</p>
			<p>&copy; 2023 TECH FRIENDS OF TOPIYE. All rights reserved.</p>
		</footer>

		<script>
			function togglePaymentMethod() {
				const paymentMethod = document.getElementById("payment-method").value;
				const paypalContainer = document.getElementById("paypal-container");
				const cardContainer = document.getElementById("card-container");

				paypalContainer.classList.add("hidden");
				cardContainer.classList.add("hidden");

				if (paymentMethod === "paypal") {
					paypalContainer.classList.remove("hidden");
				} else if (paymentMethod === "card") {
					cardContainer.classList.remove("hidden");
				}
			}

			document.addEventListener("DOMContentLoaded", function () {
				paypal
					.Buttons({
						createOrder: function (data, actions) {
							return actions.order.create({
								purchase_units: [
									{
										amount: {
											value: document.getElementById("amount").value,
										},
									},
								],
							});
						},
						onApprove: function (data, actions) {
							return actions.order.capture().then(function (details) {
								alert("Donation completed by " + details.payer.name.given_name);
							});
						},
						onError: function (err) {
							console.error("PayPal error", err);
						},
					})
					.render("#paypal-button-container");

				paypal.HostedFields.render({
					createOrder: function (data, actions) {
						return actions.order.create({
							purchase_units: [
								{
									amount: {
										value: document.getElementById("amount").value,
									},
								},
							],
						});
					},
					styles: {
						".valid": {
							color: "green",
						},
						".invalid": {
							color: "red",
						},
					},
					fields: {
						number: {
							selector: "#card-number",
							placeholder: "4111 1111 1111 1111",
						},
						cvv: {
							selector: "#cvv",
							placeholder: "123",
						},
						expirationDate: {
							selector: "#expiration-date",
							placeholder: "MM/YY",
						},
					},
				}).then(function (hostedFieldsInstance) {
					document
						.getElementById("card-button")
						.addEventListener("click", function () {
							hostedFieldsInstance
								.submit({
									contingencies: ["3ds"],
								})
								.then(function (payload) {
									alert("Payment authorized: " + payload.orderID);
								})
								.catch(function (err) {
									console.error("Payment authorization failed", err);
								});
						});
				});
			});
		</script>

		<style>
			.hidden {
				display: none;
			}
		</style>
	</body>
</html>
